<div class="card"
     *ngIf="(items$ | async)?.data; else isLoading">
  <h5>Programmatic Control</h5>
  <div class="p-mb-3">

    <input type="text"
           name="search"
           [formControl]="sortByControl"
           placeholder="search">

    <p-table #td
             [value]="(items$ | async)?.data"
             [lazy]="true"
             [paginator]="true"
             [responsive]="true"
             [rows]="(items$ | async)?.perPage"
             (onPage)="onLazyLoad($event)"
             [showPageLinks]="(items$ | async).currentPage"
             [pageLinks]="(items$ | async).currentPage"
             [showCurrentPageReport]="true"
             [totalRecords]="(items$ | async)?.total"
             currentPageReportTemplate="Showing {{(items$ | async)?.from}} to {{ (items$ | async)?.to }} of {{(items$ | async)?.total}} entries">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Url</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body"
                   let-pokemon>
        <tr>
          <td>{{pokemon?.name}}</td>
          <td>{{pokemon?.capital}}</td>
        </tr>
      </ng-template>

    </p-table>
  </div>
</div>

<ng-template #isLoading>
  <h1>Loading...</h1>
</ng-template>
